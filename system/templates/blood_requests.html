
    {% extends "base.html" %}
{% load static %}

{% block title %}My Donation Appointments{% endblock %}

{% block extra_css %}
<style>
    :root {
      --primary-color: #e53e3e;
      --primary-dark: #c53030;
      --text-color: #2d3748;
      --text-light: #718096;
      --bg-light: #f8f9fa;
      --border-color: #e2e8f0;
    }
    
    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }
    
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .header h1 {
      color: var(--primary-color);
      font-size: 2rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin: 0;
    }
    
    .request-table-container {
      overflow-x: auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }
    
    .request-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }
    
    .request-table th {
      background-color: #f8f9fa;
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      color: var(--text-color);
      border-bottom: 2px solid var(--border-color);
      white-space: nowrap;
    }
    
    .request-table th i {
      margin-right: 0.5rem;
      color: var(--text-light);
    }
    
    .request-table td {
      padding: 1rem;
      border-bottom: 1px solid var(--border-color);
      vertical-align: middle;
    }
    
    .request-table tr:last-child td {
      border-bottom: none;
    }
    
    .request-table tr:hover {
      background-color: #f8f9fa;
    }
    
    /* Blood type badges */
    .blood-type-badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 50px;
      font-weight: 600;
      font-size: 0.85rem;
    }
    
    .blood-type-o-positive { background-color: #fff5f5; color: #c53030; border: 1px solid #fed7d7; }
    .blood-type-o-negative { background-color: #fff5f5; color: #9b2c2c; border: 1px solid #fed7d7; }
    .blood-type-a-positive { background-color: #ebf8ff; color: #2b6cb0; border: 1px solid #bee3f8; }
    .blood-type-a-negative { background-color: #ebf8ff; color: #2c5282; border: 1px solid #bee3f8; }
    .blood-type-b-positive { background-color: #f0fff4; color: #276749; border: 1px solid #c6f6d5; }
    .blood-type-b-negative { background-color: #f0fff4; color: #22543d; border: 1px solid #c6f6d5; }
    .blood-type-ab-positive { background-color: #faf5ff; color: #6b46c1; border: 1px solid #e9d8fd; }
    .blood-type-ab-negative { background-color: #faf5ff; color: #553c9a; border: 1px solid #e9d8fd; }
    
    .no-requests {
      text-align: center;
      padding: 3rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .no-requests i {
      color: #e2e8f0;
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    
    .no-requests h3 {
      color: var(--text-color);
      margin-bottom: 0.5rem;
    }
    
    .no-requests p {
      color: var(--text-light);
    }
    
    .contact-link {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .contact-link:hover {
      text-decoration: underline;
    }
    
    @media (max-width: 768px) {
      .request-table th, 
      .request-table td {
        padding: 0.75rem;
      }
    }
  </style>
{% endblock %}

{% block content %}
  <div class="container">
    <!-- <div class="header">
      <h1><i class="fas fa-hand-holding-medical"></i> Blood Requests</h1>
    </div> -->

    <div class="request-table-container">
      <table class="request-table">
        <thead>
          <tr>
            <th><i class="fas fa-user"></i> First Name</th>
            <th><i class="fas fa-user"></i> Last Name</th>
            <th><i class="fas fa-tint"></i> Blood Type</th>
            <th><i class="fas fa-phone"></i> Contact</th>
            <th><i class="fas fa-map-marker-alt"></i> Location</th>
            <th><i class="fas fa-clock"></i> Requested At</th>
          </tr>
        </thead>
        <tbody>
          {% for blood_request in blood_requests %}
            <tr>
              <td>{{ blood_request.first_name }}</td>
              <td>{{ blood_request.last_name }}</td>
              <td>
                <span class="blood-type-badge blood-type-{{ blood_request.blood_type|lower|cut:' ' }}">
                  {{ blood_request.blood_type }}
                </span>
              </td>
              <td>
                <a href="tel:{{ blood_request.contact_number }}" class="contact-link">
                  <i class="fas fa-phone"></i> {{ blood_request.contact_number }}
                </a>
              </td>
              <td>{{ blood_request.location }}</td>
              <td>{{ blood_request.created_at }}</td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="6">
                <div class="no-requests">
                  <i class="fas fa-hand-holding-water"></i>
                  <h3>No Blood Requests Available</h3>
                  <p>There are currently no active blood requests in the system.</p>
                </div>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
  <!-- Include jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <script>
    // Set the flag in session storage
    sessionStorage.setItem('bloodRequestsVisited', true);

    // Rest of the JavaScript code for the blood requests page
    // ...
  </script>
{% endblock %}
